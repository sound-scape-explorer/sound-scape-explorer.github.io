"use strict";(globalThis.webpackChunksound_scape_explorer_github_io=globalThis.webpackChunksound_scape_explorer_github_io||[]).push([[31897],{22082(e,n,s){s.d(n,{W:()=>l});const i="size_Ijwc";var t=s(35656);const l=({size:e})=>(0,t.jsx)("span",{className:i,children:e})},31032(e,n,s){s.d(n,{A:()=>r});var i=s(57182),t=s(22082),l=s(35656);const r=({version:e,size:n,isCse:s=!1})=>{const{directory:r}=(0,i.W)({version:e,isCse:s});return s?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("a",{href:`https://github.com/sound-scape-explorer/coral-sound-explorer/archive/refs/tags/v${e}.zip`,target:"_blank",children:[r,".zip"]})," ",n&&(0,l.jsx)(t.W,{size:n})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("a",{href:`https://github.com/sound-scape-explorer/sound-scape-explorer/archive/refs/tags/v${e}.zip`,target:"_blank",children:[r,".zip"]})," ",n&&(0,l.jsx)(t.W,{size:n})]})}},39174(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"developers/index","title":"Developers","description":"This guide uses Linux/Unix commands.","source":"@site/docs/developers/index.mdx","sourceDirName":"developers","slug":"/developers/","permalink":"/docs/next/developers/","draft":false,"unlisted":false,"editUrl":"https://github.com/sound-scape-explorer/sound-scape-explorer.github.io/tree/main/docs/developers/index.mdx","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Developers"},"sidebar":"tutorialSidebar","previous":{"title":"Visualisation Online","permalink":"/docs/next/extras/visualisation-online"},"next":{"title":"welcome","permalink":"/docs/next/welcome"}}');var t=s(35656),l=s(75395),r=s(31032),o=s(52731);const a={sidebar_position:6,title:"Developers"},d=void 0,c={},p=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Get codebase",id:"get-codebase",level:2},{value:"git clone",id:"git-clone",level:3},{value:"Download zip",id:"download-zip",level:3},{value:"Monorepo structure",id:"monorepo-structure",level:2},{value:"Python setup",id:"python-setup",level:2},{value:"JS setup",id:"js-setup",level:2},{value:"Starting a development environment",id:"starting-a-development-environment",level:2},{value:"Python",id:"python",level:3},{value:"JS",id:"js",level:3},{value:"Build",id:"build",level:2},{value:"Python package",id:"python-package",level:3},{value:"Electron package",id:"electron-package",level:3},{value:"Run tests",id:"run-tests",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.admonition,{type:"warning",children:[(0,t.jsx)(n.p,{children:"This guide uses Linux/Unix commands."}),(0,t.jsx)(n.p,{children:"Windows users may need to adapt paths and use PowerShell or WSL."})]}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://git-scm.com/",children:"git"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.ffmpeg.org/",children:"ffmpeg"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.python.org/",children:"Python 3.11"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://nodejs.org/",children:"Node.js 20+"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://pnpm.io/",children:"pnpm"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"get-codebase",children:"Get codebase"}),"\n",(0,t.jsx)(n.h3,{id:"git-clone",children:"git clone"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# with HTTPS\ngit clone https://github.com/sound-scape-explorer/sound-scape-explorer.git\n\n# with SSH\ngit clone git@github.com:sound-scape-explorer/sound-scape-explorer.git\n"})}),"\n",(0,t.jsx)(n.h3,{id:"download-zip",children:"Download zip"}),"\n",(0,t.jsx)(r.A,{version:o.x,size:"125 MB"}),"\n",(0,t.jsx)(n.h2,{id:"monorepo-structure",children:"Monorepo structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-txt",children:'sound-scape-explorer/             # Monorepo root\n\u251c\u2500\u2500 .github/workflows             # CI/CD pipeline definitions\n\u251c\u2500\u2500 audio                         # "Audio" module (Express app)\n\u251c\u2500\u2500 bin                           # User installation scripts\n\u251c\u2500\u2500 campaign                      # "Campaign" module (React app)\n\u251c\u2500\u2500 examples                      # Examples\n\u251c\u2500\u2500 front                         # "Visualisation" module (Vue app)\n\u251c\u2500\u2500 processing                    # "Processing CLI" module (Python app)\n\u251c\u2500\u2500 shared                        # Shared utils, enums and schemas for JS packages\n\u2514\u2500\u2500 visualisation                 # "Standalone" app (Electron app)\n'})}),"\n",(0,t.jsx)(n.h2,{id:"python-setup",children:"Python setup"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd processing\npython3.11 -m venv venv\nsource venv/bin/activate\n./install_deps_with_dev.sh\n"})}),"\n",(0,t.jsx)(n.h2,{id:"js-setup",children:"JS setup"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# at monorepo root\n./reinstall_npm_packages.sh\npnpm visualisation:prepare-bins\n"})}),"\n",(0,t.jsx)(n.h2,{id:"starting-a-development-environment",children:"Starting a development environment"}),"\n",(0,t.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,t.jsx)(n.p,{children:"The installation script sets up the environment in development mode with hot\nreload."}),"\n",(0,t.jsxs)(n.p,{children:["Update your code and run ",(0,t.jsx)(n.code,{children:"sse"})," commands from the activated ",(0,t.jsx)(n.em,{children:"venv"})," shell to see\nchanges immediately."]}),"\n",(0,t.jsx)(n.h3,{id:"js",children:"JS"}),"\n",(0,t.jsx)(n.p,{children:"You will need to start each module independently."}),"\n",(0,t.jsxs)(n.p,{children:["We recommend using a terminal multiplexer like\n",(0,t.jsx)(n.a,{href:"https://github.com/tmux/tmux/wiki",children:"tmux"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Each terminal supposes monorepo root as current working directory\n\n# First terminal - Visualisation module\n# Will spawn at http://localhost:5530/\ncd front\npnpm dev\n\n# Second terminal - Audio module\n# Will spawn at http://localhost:5531/\ncd audio\npnpm dev $(which ffmpeg) $(which ffprobe) /path/to/audio/folder\n\n# Third terminal - Campaign module\n# Will spawn at http://localhost:5532/\ncd campaign\npnpm dev\n\n# Fourth terminal - Electron module\n# Will spawn GUI\ncd visualisation\nnpm run dev # !!!!! npm not pnpm\n"})}),"\n",(0,t.jsx)(n.h2,{id:"build",children:"Build"}),"\n",(0,t.jsx)(n.h3,{id:"python-package",children:"Python package"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd processing\nsource venv/bin/activate\npython -m build\n"})}),"\n",(0,t.jsx)(n.h3,{id:"electron-package",children:"Electron package"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pnpm visualisation:prebuild\ncd visualisation\nnpm run build\n"})}),"\n",(0,t.jsx)(n.h2,{id:"run-tests",children:"Run tests"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"./run_tests_all.sh\n"})})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},52731(e,n,s){s.d(n,{x:()=>i});const i="14.0.6"},57182(e,n,s){s.d(n,{W:()=>l});var i=s(40211),t=s(57140);function l({version:e,isCse:n=!1}){return{directory:(0,t.useMemo)(()=>{let s=i.gX;return e&&n?s="coral-sound-explorer-VERSION".replace("VERSION",e):e&&(s=i.gX.replace("VERSION",e)),s},[e])}}}}]);